<!DOCTYPE html>
<html>
<head>
  <title>Student Enrollment Form</title>
  <style>
    /* CSS styles for the form layout */
    label {
      display: block;
      margin-bottom: 5px;
    }
    input[type="text"], input[type="date"] {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h2>Student Enrollment Form</h2>
  <form id="enrollmentForm">
    <label for="rollNo">Roll No:</label>
    <input type="text" id="rollNo" required>
    <label for="fullName">Full Name:</label>
    <input type="text" id="fullName" required>
    <label for="class">Class:</label>
    <input type="text" id="class" required>
    <label for="birthDate">Birth Date:</label>
    <input type="date" id="birthDate" required>
    <label for="address">Address:</label>
    <input type="text" id="address" required>
    <label for="enrollmentDate">Enrollment Date:</label>
    <input type="date" id="enrollmentDate" required>
    <br>
    <button type="button" id="saveBtn" disabled>Save</button>
    <button type="button" id="updateBtn" disabled>Update</button>
    <button type="button" id="resetBtn" disabled>Reset</button>
  </form>

  <script>
    // JavaScript code for form behavior
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('enrollmentForm');
      const rollNoInput = document.getElementById('rollNo');
      const fullNameInput = document.getElementById('fullName');
      const classInput = document.getElementById('class');
      const birthDateInput = document.getElementById('birthDate');
      const addressInput = document.getElementById('address');
      const enrollmentDateInput = document.getElementById('enrollmentDate');
      const saveBtn = document.getElementById('saveBtn');
      const updateBtn = document.getElementById('updateBtn');
      const resetBtn = document.getElementById('resetBtn');

      // Function to enable/disable buttons
      const enableButtons = () => {
        saveBtn.disabled = false;
        updateBtn.disabled = false;
        resetBtn.disabled = false;
      };

      // Function to disable form inputs
      const disableInputs = () => {
        fullNameInput.disabled = true;
        classInput.disabled = true;
        birthDateInput.disabled = true;
        addressInput.disabled = true;
        enrollmentDateInput.disabled = true;
      };

      // Function to enable form inputs
      const enableInputs = () => {
        fullNameInput.disabled = false;
        classInput.disabled = false;
        birthDateInput.disabled = false;
        addressInput.disabled = false;
        enrollmentDateInput.disabled = false;
      };

      // Function to clear form inputs
      const clearInputs = () => {
        rollNoInput.value = '';
        fullNameInput.value = '';
        classInput.value = '';
        birthDateInput.value = '';
        addressInput.value = '';
        enrollmentDateInput.value = '';
      };

      // Function to check if the roll number exists in the database
      const rollNoExists = (rollNo) => {
        // Replace this with your actual database check logic
        // Example: Fetch data from the database and check if the rollNo exists
        const existingRollNos = ['1', '2', '3']; // Example existing roll numbers
        return existingRollNos.includes(rollNo);
      };

      // Event listener for form submit
      form.addEventListener('submit', (e) => {
        e.preventDefault(); // Prevent form submission
      });

      // Event listener for roll number input change
      rollNoInput.addEventListener('input', () => {
        const rollNo = rollNoInput.value.trim();

        if (rollNo !== '') {
          if (rollNoExists(rollNo)) {
            enableButtons();
            enableInputs();
          } else {
            enableButtons();
            enableInputs();
            fullNameInput.focus();
          }
        } else {
          disableInputs();
          saveBtn.disabled = true;
          updateBtn.disabled = true;
        }
      });

      // Event listener for save button click
      saveBtn.addEventListener('click', () => {
        // Perform the save operation and store data in the database
        // Replace this with your actual save logic
        alert('Data saved successfully!');
        disableInputs();
        clearInputs();
        rollNoInput.value = '';
        rollNoInput.focus();
      });

      // Event listener for update button click
      updateBtn.addEventListener('click', () => {
        // Perform the update operation and update data in the database
        // Replace this with your actual update logic
        alert('Data updated successfully!');
        disableInputs();
        clearInputs();
        rollNoInput.value = '';
        rollNoInput.focus();
      });

      // Event listener for reset button click
      resetBtn.addEventListener('click', () => {
        disableInputs();
        clearInputs();
        rollNoInput.value = '';
        rollNoInput.focus();
      });

      // Set focus on the roll number input field initially
      rollNoInput.focus();
    });
  </script>
</body>
</html>
